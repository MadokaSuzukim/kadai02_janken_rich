<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾¡å€¤è¦³åˆã†åˆã‚ãªã„ï¼ï¼Ÿã‚²ãƒ¼ãƒ </title>
    <link rel="stylesheet" href="style.css">
    <!-- <link rel="icon" href="path/to/favicon.ico" type="image/x-icon"> -->
</head>
<body>
    <div align="center">
        <h2>ä¾¡å€¤è¦³åˆã†åˆã‚ãªã„ï¼ï¼Ÿã‚²ãƒ¼ãƒ </h2>
        ã€Œã‚¹ã‚¿ãƒ¼ãƒˆã€ã‚’æŠ¼ã—ãŸå¾Œã«ã€<br>ä»Šã®å¿ƒã®èª¿å­ã‚’ã€ŒğŸ˜ã€ã€ŒğŸ˜€ã€ã€ŒğŸ˜‚ã€ï¼“ã¤ã®ã‚¹ã‚¿ãƒ³ãƒ—ã‹ã‚‰é¸ã‚“ã§ã­ã€‚<br>
        <br>ç›¸æ‰‹ã®æ„Ÿæƒ…ã¯èª­ã‚ã¾ã›ã‚“ã€‚ã‚ãªãŸã®ä»Šã®çŠ¶æ…‹ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚<br>
        <br>

        <!-- ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã«éŸ³å£°å†ç”Ÿæ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ã‚‹ -->
        <button onclick="startWithSound();">ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆéŸ³ä»˜ãï¼‰</button>
        <!-- <div class="btn" onclick="startWithSound();">ã‚¹ã‚¿ãƒ¼ãƒˆ</div> -->
        
        <!-- muteåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
        <div class="mute_btn" onclick="mute()">muteã®åˆ‡ã‚Šæ›¿ãˆ</div>

        <!-- éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« -->
        <audio id="btn_audio">
        <source src="start.mp3" type="audio/mp3">
        </audio>

        <!-- <button id="startButton" onclick="start();">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>  -->
        <button id="smailButton" onclick="janken('ğŸ˜');" disabled>ğŸ˜</button>
        <button id="nomalButton" onclick="janken('ğŸ˜€');" disabled>ğŸ˜€</button>
        <button id="cryButton" onclick="janken('ğŸ˜‚');" disabled>ğŸ˜‚</button>
        <br>
        <table border="1" style="border-collapse: collapse">
            <tr>
                <td align="center"><h2>è²´æ–¹ã®æ„Ÿæƒ… <div id="PlayerHand"> </div></h2></td>
                <td align="center"><h2>ç›¸æ‰‹ã®æ„Ÿæƒ… <div id="RivalHand"> </div></h2></td>
            </tr>
            <br>ä½•ã‚’é¸ã‚“ã§ã‚‚ã€æ­£è§£ä¸æ­£è§£ã¯ã‚ã‚Šã¾ã›ã‚“
        </table>
        <br>
        <div id="Result"></div>
    </div>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ã®HTML -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <p id="modalText"></p>
            <button id="retryButton">å†ãƒˆãƒ©ã‚¤</button>

            <!-- çµ‚äº†ã™ã‚‹éš›ã«å†ç”Ÿã™ã‚‹éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« -->
<audio id="close_audio">
    <source src="next.mp3" type="audio/mp3">
</audio>

<!-- çµ‚äº†ã™ã‚‹ãƒœã‚¿ãƒ³ã«éŸ³å£°å†ç”Ÿæ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ã‚‹ -->
<button onclick="closeWithSound();">çµ‚äº†ã™ã‚‹</button>

            <a href="https://marumark-98145.bubbleapps.io/signin" target="_blank" class="marumark-button">Marumark</a>
            
    </div>
        </div>
    </div>
    <button id="yourButtonId">ã‚¯ãƒªãƒƒã‚¯</button>
    <script>
        const FPS = 30;
        const HANDS = ['ğŸ˜', 'ğŸ˜€', 'ğŸ˜‚'];
        let lastRivalHandIndex = 0;
        let gameLoopInterbalId = null;

        function gameLoop() {
            const handIndex = (lastRivalHandIndex + 1) % HANDS.length;
            lastRivalHandIndex = handIndex;
            document.getElementById("RivalHand").innerHTML = HANDS[handIndex];
        }

        function start() {
            // ã“ã“ã«ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚¿ãƒ¼ãƒˆã«é–¢ã™ã‚‹å‡¦ç†ã‚’è¨˜è¿° */
            console.log("ã‚²ãƒ¼ãƒ ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ã€‚");
            // ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹
            // document.getElementById("startButton").disabled = true;

            // ä»–ã®ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹
            document.getElementById("smailButton").disabled = false;
            document.getElementById("nomalButton").disabled = false;
            document.getElementById("cryButton").disabled = false;

            // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ç›¸æ‰‹ã®æ‰‹ã‚’åˆæœŸåŒ–ã™ã‚‹
            document.getElementById("PlayerHand").innerHTML = ' ';
            document.getElementById("RivalHand").innerHTML = '';

            // çµæœè¡¨ç¤ºã‚’ã‚¯ãƒªã‚¢ã™ã‚‹
            document.getElementById("Result").innerHTML = '';
            gameLoopInterbalId = setInterval(gameLoop, 1000 / FPS);
        
            // ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã‚’é–‹å§‹ã™ã‚‹
            // if (gameLoopInterbalId !== null) 
            clearInterval(gameLoopInterbalId); // ä»¥å‰ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¯ãƒªã‚¢ã™ã‚‹
            gameLoopInterbalId = setInterval(gameLoop, 1000 / FPS);
           }

            // startWithSound() é–¢æ•°ã¯æ­£ã—ãéŸ³å£°ã‚’å†ç”Ÿã—ã¦ã‹ã‚‰ start() é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã®ã§ã€ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯ãã®ã¾ã¾ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚
            function startWithSound() {
            audio(); // éŸ³å£°ã‚’å†ç”Ÿã™ã‚‹é–¢æ•°ã‚’å‘¼ã³å‡ºã™
            start(); // ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚¿ãƒ¼ãƒˆå‡¦ç†ã‚’å‘¼ã³å‡ºã™
           }

            function audio() {
            var sound = document.getElementById("btn_audio"); // audioè¦ç´ ã‚’å–å¾—
            sound.play(); // éŸ³å£°ã‚’å†ç”Ÿ
            }

    function closeWithSound() {
    var sound = document.getElementById("close_audio"); // close_audioè¦ç´ ã‚’å–å¾—
    sound.play(); // éŸ³å£°ã‚’å†ç”Ÿ

    
}

   

    
    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹å‡¦ç†ã‚‚ã“ã“ã«è¿½åŠ ã™ã‚‹ã‹ã€ã‚‚ã—ãã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹åˆ¥ã®å‡¦ç†ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹
    var modal = document.getElementById('resultModal');
    modal.style.display = 'none';

    // ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®å†ãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ã‚’å–å¾—
    var retryButton = document.getElementById('retryButton');
    
    // å†ãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’è¨­å®š
    retryButton.addEventListener('click', function() {
        var modal = document.getElementById('resultModal');
        modal.style.display = 'none'; // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’éè¡¨ç¤ºã«ã™ã‚‹
        start(); // ã‚²ãƒ¼ãƒ ã‚’å†ã‚¹ã‚¿ãƒ¼ãƒˆ

    
     // å†ãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
     retryButton.onclick = function() {
    modal.style.display = 'none'; // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
    start(); // ã‚²ãƒ¼ãƒ ã‚’å†ã‚¹ã‚¿ãƒ¼ãƒˆ
    }});
    document.addEventListener("DOMContentLoaded", function() {
      
    });

    function janken() {
  var smileButton = document.getElementById("smileButton");
  if (smileButton !== null) {
    smileButton.disabled = true; // ã“ã“ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹
  } else {
    console.log("smileButton not found");
  }
  var normalButton = document.getElementById("normalButton"); // æ­£ã—ã„IDã‚’æŒ‡å®š
  if (normalButton !== null) {
    normalButton.disabled = true; // normalButtonãŒå­˜åœ¨ã™ã‚‹å ´åˆã«disabledã‚’trueã«è¨­å®š
  } else {
    console.log("normalButton not found"); // normalButtonãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒ­ã‚°
  }

  var cryButton = document.getElementById("cryButton"); // æ­£ã—ã„IDã‚’æŒ‡å®š
  if (cryButton !== null) {
    cryButton.disabled = true; // cryButtonãŒå­˜åœ¨ã™ã‚‹å ´åˆã«disabledã‚’trueã«è¨­å®š
  } else {
    console.log("cryButton not found"); // cryButtonãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒ­ã‚°
  }

  // ä»¥ä¸‹ã€ã‚²ãƒ¼ãƒ ã®ãƒ­ã‚¸ãƒƒã‚¯
}


// function janken() {
//   var button = document.getElementById("yourButtonId"); // æ­£ã—ã„IDã«ç½®ãæ›ãˆã¦ãã ã•ã„
//   if (button !== null) { // è¦ç´ ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
//     button.disabled = true;
//   } else {
//     console.log("Button element not found!"); // è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
//   }
// }
//     function janken() {
//     var button = document.getElementById("buttonId"); // æ­£ã—ã„IDã‚’ä½¿ç”¨
//     if (button) { // buttonãŒnullã§ãªã„ã“ã¨ã‚’ç¢ºèª
//     button.disabled = true;
//   }
// }
    document.addEventListener('DOMContentLoaded', function () {
    var closeButton = document.getElementsByClassName('close-button')[0]; // ã‚¯ãƒ©ã‚¹åãŒ 'close-button' ã®è¦ç´ ã‚’å–å¾—
    var modal = document.getElementById('resultModal'); // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¦ç´ ã‚’å–å¾—
    closeButton.addEventListener('click', function() {
    modal.style.display = 'none'; // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’éè¡¨ç¤ºã«ã™ã‚‹
    });
});
// ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®è¦ç´ ã‚’å–å¾—
var modal = document.getElementById('myModal');
          window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = 'none';
                }
          }
        function janken(playerHand) {
            clearInterval(gameLoopInterbalId);// æ—¢å­˜ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã‚’åœæ­¢

            document.getElementById("PlayerHand").innerHTML = playerHand;// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®é¸æŠã‚’è¡¨ç¤º

            const rivalHand = HANDS[lastRivalHandIndex];// ç›¸æ‰‹ã®æ‰‹ã‚’å–å¾—
            let result = "";// çµæœã‚’æ ¼ç´ã™ã‚‹å¤‰æ•°

            // çµæœã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
            if (playerHand === rivalHand) {
                result = "ä¾¡å€¤è¦³åˆã„ã¾ã™ã­ï¼ã§ã‚‚ã€ä»Šæ—¥ã ã‘ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚ãªãŸã«ã¨ã£ã¦ã€ãã—ã¦ç›¸æ‰‹ã«ã¨ã£ã¦ã®ä¾¡å€¤è¦³ã‚’èªè­˜ã—ã¦ã„ã‘ãŸã‚‰è‰¯ã„ã§ã™ã­!è‰¯ã‹ã£ãŸã‚‰MARUMARKã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€æ—¥ã€…ã®å¿ƒã®èª¿å­ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ";
            } else if (playerHand === 'ğŸ˜' && rivalHand === 'ğŸ˜€') {
                result = "ä½•ã‹ã—ã‚‰ã€ä¸ä¸€è‡´ãŒã‚ã‚‹éƒ¨åˆ†ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€å¯¾è©±ã§æ“¦ã‚Šåˆã‚ã›ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿè‰¯ã‹ã£ãŸã‚‰MARUMARKã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€æ—¥ã€…ã®å¿ƒã®èª¿å­ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ";
            } else if (playerHand === 'ğŸ˜‚' && rivalHand === 'ğŸ˜') {
                result = "ã‚ãªãŸã®æ„Ÿæƒ…ã‚’é–‹ç¤ºã§ãã‚‹çŠ¶æ…‹ã˜ã‚ƒãªã„ã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã—ã‚“ã©ã•ãŒã‚ã£ãŸã‚‰èª°ã‹ã«æ‰“ã¡æ˜ã‘ã‚‹ã®ã‚‚ä¸€ã¤ã§ã™ã€‚è‰¯ã‹ã£ãŸã‚‰MARUMARKã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€æ—¥ã€…ã®å¿ƒã®èª¿å­ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ";
            } else if (playerHand === 'ğŸ˜‚' && rivalHand === 'ğŸ˜€') {
                result = "ä¾¡å€¤è¦³ã«èª¤è§£ã¯ã¤ãã‚‚ã®ã§ã™ã€‚ã„ã¤ã§ã‚‚å®Œå…¨ã«ç†è§£ã¯ã§ããªã„ã¨ã„ã†ã“ã¨ã‚’é ­ã«å…¥ã‚Œã¦ã€è‡ªåˆ†è‡ªèº«ã®æƒ³ã„ã‚’å…±æœ‰ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚è‰¯ã‹ã£ãŸã‚‰MARUMARKã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€æ—¥ã€…ã®å¿ƒã®èª¿å­ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ";
            } else if (playerHand === 'ğŸ˜' && rivalHand === 'ğŸ˜‚' || playerHand === 'ğŸ˜€' && rivalHand === 'ğŸ˜‚') {
                result = "è‡ªåˆ†ã«ã¨ã£ã¦è‰¯ã„çŠ¶æ³ã¯ã€ã‚‚ã—ã‹ã—ãŸã‚‰ç›¸æ‰‹ã«ã¨ã£ã¦ã¯ä¸å¿«ãªã®ã‹ã‚‚ã—ã‚Œãªã„ã¨è€ƒãˆã¦ã¿ã¦ã‚‚è‰¯ã„ã§ã™ã­ã€‚è‰¯ã‹ã£ãŸã‚‰MARUMARKã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€æ—¥ã€…ã®å¿ƒã®èª¿å­ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ";
            } else if (playerHand === 'ğŸ˜€' && rivalHand === 'ğŸ˜' ) {
                result = "è‡ªåˆ†ã«ã¨ã£ã¦ã®çŠ¶æ³ã¯ã€ã‚‚ã—ã‹ã—ãŸã‚‰ç›¸æ‰‹ã«ã¯ã‚ˆã„å°è±¡ã‚’ä¸ãˆã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã¨è€ƒãˆã¦ã¿ã¦ã‚‚è‰¯ã„ã§ã™ã­ã€‚è‰¯ã‹ã£ãŸã‚‰MARUMARKã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€æ—¥ã€…ã®å¿ƒã®èª¿å­ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ";
            }else {
                result = "çš†é•ã£ã¦å½“ãŸã‚Šå‰ã§ã™ã‚ˆã­!è‰¯ã‹ã£ãŸã‚‰ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚è‰¯ã‹ã£ãŸã‚‰MARUMARKã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€æ—¥ã€…ã®å¿ƒã®èª¿å­ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ";
            }

            showModal(result); // çµæœã‚’ãƒ¢ãƒ¼ãƒ€ãƒ«ã§è¡¨ç¤º

            // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.getElementById("startButton").disabled = false;
            document.getElementById("smailButton").disabled = true;
            document.getElementById("nomalButton").disabled = true;
            document.getElementById("cryButton").disabled = true;

            function showModal(result) {
                var modal = document.getElementById('resultModal');
            var modalText = document.getElementById('modalText');
            modalText.innerText = result; // innerHTMLã§ã¯ãªãinnerTextã‚’ä½¿ç”¨ã—ã¦ã‚‚è‰¯ã„
            modal.style.display = 'block';
            }
            // var modal = document.getElementById('resultModal');
            // var modalText = document.getElementById('modalText');
            // modalText.innerHTML = result;
            // modal.style.display = 'block';

            var closeButton = document.getElementsByClassName('close-button')[0];
            closeButton.onclick = function() {
                modal.style.display = 'none';
            }
           }

        function mute() {
    if (document.getElementById('btn_audio').muted) {
        document.getElementById('btn_audio').muted = false;
    } else {
        document.getElementById('btn_audio').muted = true;
    }
}
        //    // muteã®åˆ‡ã‚Šæ›¿ãˆ
        //     function mute() {
        //     var sound = document.getElementById("btn_audio");
        //     sound.muted = !sound.muted; // ãƒŸãƒ¥ãƒ¼ãƒˆçŠ¶æ…‹ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
// }

    </script>
</body>
</html>

